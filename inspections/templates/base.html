{% load static %}
<!DOCTYPE html>
<html lang="fa-IR" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Fuel Station Report{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Include PersianDatepicker CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker@1.6.1/dist/css/persian-datepicker.min.css">
    <style>


a { text-decoration: none; }

@font-face {
    font-family: 'vazir';
    src: url('/static/fonts/vazir.ttf') format('truetype');
}

.form-group { 
    position: relative; 
    padding: 1px 0px; 
    margin-top: 18px; 
    width: 100%; 
    background: rgba(255, 255, 255, 0.2); 
    border-radius: 15px; 
    backdrop-filter: blur(10px); 
    -webkit-backdrop-filter: blur(10px); 
    border: 1px solid rgba(255, 255, 255, 0.3); 
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    color: #fff; 
    text-align: center; 
    padding: 15px; 
    font-weight: bold; 
}

input { 
    font-family: inherit; 
    width: 100%; 
    border: 0; 
    border-bottom: 2px solid #252525; 
    outline: 0; 
    font-size: 1.1rem; 
    color: #d6d6d6; 
    padding: 7px 0; 
    background: transparent; 
    transition: border-color 0.2s; 
}

input::placeholder { 
    color: transparent; 
}
input:placeholder-shown ~ label { 
    font-size: 1.1rem; 
    cursor: text; 
    top: 20px; 
}
label { 
    position: absolute; 
    top: 0; 
    display: block; 
    transition: 0.2s; 
    font-size: 1rem; 
    color: #fdfdfd; 
}
input:focus ~ label { 
    position: absolute; 
    top: 0; 
    display: block; 
    transition: 0.2s; 
    font-size: 1rem; 
    color: #38ef7d; 
    font-weight: 700; 
}
input:focus { 
    padding-bottom: 6px; 
    font-weight: 700; 
    border-width: 3px; 
    border-image: linear-gradient(to right, #11998e, #38ef7d); 
    border-image-slice: 1; 
}
.form__field:required, .form__field:invalid { 
    box-shadow: none; 
}
body { 
    font-family: 'vazir', sans-serif; 
    margin: 0; 
    height: 100vh; 
    background: linear-gradient(270deg, #02007e, #1300c2); 
    background-size: 400% 400%; 
    animation: gradientAnimation 3s ease infinite; 
}
@keyframes gradientAnimation { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
.Font { 
    font-family: "ServerName"; 
}
.KIANOOBS { 
    filter: sepia(1) saturate(10000%) hue-rotate(180deg); 
    filter: brightness(0) invert(1); 
}
@font-face {
    font-family: 'Vazir';
    src: url('/static/fonts/Vazir-Regular.ttf') format('truetype');
}
.button-container { 
    display: flex; 
    gap: 10px; }
.fixed-bottom-options { 
    position: fixed; 
    bottom: 0; 
    left: 0; 
    right: 0; 
    padding: 3px; 
}
.btn { 
    padding: 5px 5px; 
    border: none; 
    border-radius: 5px; 
    color: white; 
    cursor: pointer; 
    font-size: 16px; 
    transition: transform 0.3s ease, 
    background-color 0.3s ease; 
}

.glasss { 
    background: rgba(255, 255, 255, 0.2); 
    border-radius: 15px; 
    backdrop-filter: blur(10px); 
    -webkit-backdrop-filter: blur(10px); 
    border: 1px solid rgb(255, 255, 255); 
    box-shadow: 0 4px 30px rgba(80, 80, 80, 0.1); 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    color: #fff; 
    text-align: center; 
    padding: 20px; 
    font-weight: bold; 
}

.btn-gas:hover, .btn-petrol:hover, .btn-both:hover { transform: scale(1.1); }
.showGaz, .showFuel, .showAll, .showBase { display: none; }
.gg { display: block; }
.page.active { display: block; }
.page { display: none; }

    </style>
</head>

<body>

<div class="border-bottom">
    <a class="navbar-brand d-flex" href="{% url 'home' %}">
        <img src="https://www.nigc-zanjan.ir/content/adminlogo.png" width="90px" class="img-fluid KIANOOBS p-2" alt="">
        <h6 class="text-white fw-bold pt-4 mt-2 p-1"> شرکت ملی پخش فرآورده های نفتی ایران</h6>
    </a>
</div>

<div class="container mt-4 p-3">
    {% block content %}
    {% endblock %}
</div>
<script src="https://cdn.jsdelivr.net/npm/persian-datepicker@1.6.1/dist/js/persian-datepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="{% static 'js/scripts.js' %}"></script>

<script>
    let BASE = document.querySelectorAll('.showBase');
function showGas() {
    let gasElements = document.querySelectorAll('.showGaz');
    let fuelElements = document.querySelectorAll('.showFuel');
    
    gasElements.forEach(element => {
        element.style.display = 'block';
        if (element.tagName === 'INPUT') {
            element.value = '';
        }
    });
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')
    });
    
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')

    });
    fuelElements.forEach(element => {
        element.style.display = 'none';
        if (element.tagName === 'INPUT') {
            element.value = '0';
        }
    });
}

function showPetrol() {
    let gasElements = document.querySelectorAll('.showGaz');
    let fuelElements = document.querySelectorAll('.showFuel');
    
    gasElements.forEach(element => {
        element.style.display = 'none';
        if (element.tagName === 'INPUT') {
            element.value = '0';
        }
    });
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')

    });
    
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')

    });
    fuelElements.forEach(element => {
        element.style.display = 'block';
        if (element.tagName === 'INPUT') {
            element.value = '';
        }
    });
}

function showBoth() {
    let gasElements = document.querySelectorAll('.showGaz');
    let fuelElements = document.querySelectorAll('.showFuel');
    
    gasElements.forEach(element => {
        element.style.display = 'none';
        if (element.tagName === 'INPUT') {
            element.value = '0';
        }
    });fuelElements.forEach(element => {
        element.style.display = 'none';
        if (element.tagName === 'INPUT') {
            element.value = '0';
        }
    });
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')

    });
    
    BASE.forEach(element => {
        element.classList.remove('showBase');
        element.classList.add('gg')

    });
    
    
    gasElements.forEach(element => {
        element.style.display = 'block';
        if (element.tagName === 'INPUT') {
            element.value = '';
        }
    });

    fuelElements.forEach(element => {
        element.style.display = 'block';
        if (element.tagName === 'INPUT') {
            element.value = '';
        }
    });
}
document.addEventListener('DOMContentLoaded', () => {
    const pages = document.querySelectorAll('.page');
    let nextButton = document.getElementById('nextButton');
    const prevButton = document.getElementById('prevButton');
    let currentPageIndex = 0;

    // نمایش صفحه اول
    pages[currentPageIndex].classList.add('active');

    // بروزرسانی وضعیت دکمه‌ها
    function updateButtons() {
        prevButton.disabled = currentPageIndex === 0;
        nextButton.disabled = currentPageIndex === pages.length - 1;

        if (currentPageIndex === pages.length - 1) {
            // اگر در صفحه آخر هستیم، دکمه "ادامه" را به "ذخیره" تغییر دهید
            nextButton.innerHTML = "ذخیره";
        } else {
            // در غیر این صورت، دوباره دکمه را به "ادامه" تنظیم کنید
            nextButton.innerHTML = "ادامه";
        }
    }

    // بروزرسانی دکمه‌ها برای اولین بار
    updateButtons();

    nextButton.addEventListener('click', () => {
        if (currentPageIndex < pages.length - 1) {
            // پنهان کردن صفحه فعلی
            pages[currentPageIndex].classList.remove('active');
            // افزایش اندیس صفحه
            currentPageIndex++;
            // نمایش صفحه جدید
            pages[currentPageIndex].classList.add('active');
            // بروزرسانی وضعیت دکمه‌ها
            updateButtons();
        } else {
            // در صفحه آخر، ارسال فرم (این قسمت را باید به نحو مناسبی تنظیم کنید)
            submitForm();
        }
    });

    prevButton.addEventListener('click', () => {
        if (currentPageIndex > 0) {
            // پنهان کردن صفحه فعلی
            pages[currentPageIndex].classList.remove('active');
            // کاهش اندیس صفحه
            currentPageIndex--;
            // نمایش صفحه جدید
            pages[currentPageIndex].classList.add('active');
            // بروزرسانی وضعیت دکمه‌ها
            updateButtons();
        }
    });


    // دریافت فیلد ورودی و دکمه
    const nameInput = document.getElementById("name");

    // تابع برای بررسی وضعیت ورودی
    const checkInput = () => {
        if (nameInput.value.trim() !== "") {
            nextButton.classList.add("hidden"); // مخفی کردن دکمه
        } else {
            nextButton.classList.remove("hidden"); // نمایش دکمه
        }
    };

    // افزودن رویداد 'input' به فیلد ورودی
    nameInput.addEventListener("input", checkInput);

    // تابع برای ارسال فرم (این بخش را به نحو مناسبی تنظیم کنید)
    function submitForm() {
        // این قسمت را باید به فرم شما و اطلاعات آن تطبیق دهید
        console.log("فرم ارسال شد!");
        // مثال: ارسال فرم به وب سرور
         document.getElementById("myForm").submit();
    }
});

    // JavaScript for dynamically adding tank and nozzle fields
document.getElementById('gasoline_tanks').addEventListener('change', function() {
    var tankCount = parseInt(this.value);
    var container = document.getElementById('gasoline-tanks');
    container.innerHTML = '';
    for (var i = 1; i <= tankCount; i++) {
        container.innerHTML += `
            <div class="form-group">
                <input type="number" step="0.01" id="gasoline_tank_${i}" name="gasoline_tank_${i}" placeholder="موجوی مخزن بنزین ${i} " required>
                <label for="gasoline_tank_${i}">موجوی مخزن بنزین  ${i} </label>
            </div>
        `;
    }
});

document.getElementById('gas_tanks').addEventListener('change', function() {
    var tankCount = parseInt(this.value);
    var container = document.getElementById('gas-tanks');
    container.innerHTML = '';
    for (var i = 1; i <= tankCount; i++) {
        container.innerHTML += `
            <div class="form-group">
                <input type="number" step="0.01" id="gas_tank_${i}" name="gas_tank_${i}" placeholder="موجوی مخزن نفتگاز ${i} " required>
                <label for="gas_tank_${i}">موجوی مخزن نفتگاز  ${i} </label>
            </div>
        `;
    }
});

document.getElementById('gasoline_nozzles').addEventListener('change', function() {
    var nozzleCount = parseInt(this.value);
    var container = document.getElementById('gasoline-nozzles');
    container.innerHTML = '';
    for (var i = 1; i <= nozzleCount; i++) {
        container.innerHTML += `
            <div class="form-group">
            
                <input type="number" step="0.01" id="gasoline_nozzle_${i}" name="gasoline_nozzle_${i}" placeholder="مقدار نازل بنزین ${i} " required>
                <label for="gasoline_nozzle_${i}">مقدار نازل بنزین  ${i} </label>

            </div>
        `;
    }
});

document.getElementById('gas_nozzles').addEventListener('change', function() {
    var nozzleCount = parseInt(this.value);
    var container = document.getElementById('gas-nozzles');
    container.innerHTML = '';
    for (var i = 1; i <= nozzleCount; i++) {
        container.innerHTML += `
            <div class="form-group">
                <input type="number" step="0.01" id="gas_nozzle_${i}" name="gas_nozzle_${i}" placeholder="مقدار نازل نفتگاز${i} " required>
                <label for="gas_nozzle_${i}">مقدار نازل نفتگاز ${i} </label>
            </div>
        `;
    }
});

document.getElementById('gasoline_nozzles').addEventListener('change', function() {
    var nozzleCount = parseInt(this.value);
    var container = document.getElementById('gasoline-nozzlesT');
    container.innerHTML = '';
    for (var i = 0; i < nozzleCount; i++) {
        container.innerHTML += `
    <h5 class="text-start text-danger mt-3 ms-2 "><i class="bi bi-circle-fill"></i></h5>

            <div class="form-group">
                <input type="number" step="0.01" id="gasoline_nozzle_start_totalizer_${i}" name="gasoline_nozzle_start_totalizer_${i}" placeholder="مقدار توتالیزو ابتدا دوره نازل بنزین شماره " class="" required>
                <label for="gasoline_nozzle_start_totalizer_${i}">مقدار توتالیزو ابتدا دوره نازل بنزین شماره  ${i + 1}</label>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" id="gasoline_nozzle_end_totalizer_${i}" name="gasoline_nozzle_end_totalizer_${i}" placeholder="مقدار توتالیزو انتها دوره نازل بنزین شماره "  class="" required>
                <label for="gasoline_nozzle_end_totalizer_${i}">مقدار توتالیزو انتها دوره نازل بنزین شماره  ${i + 1}</label>
            </div>
        `;
    }
});

document.getElementById('gas_nozzles').addEventListener('change', function() {
    var nozzleCount = parseInt(this.value);
    var container = document.getElementById('gas-nozzlesT');
    container.innerHTML = '';
    for (var i = 0; i <script nozzleCount; i++) {
        container.innerHTML += `
    <h5 class="text-start text-warning mt-3 ms-2 "><i class="bi bi-circle-fill"></i></h5>
            
            <div class="form-group">
                <input type="number" step="0.01" id="gas_nozzle_start_totalizer_${i}" name="gas_nozzle_start_totalizer_${i}" placeholder="مقدار توتالیزو ابتدا دوره نازل نفتگاز شماره " class="" required>
                <label for="gas_nozzle_start_totalizer_${i}">مقدار توتالیزو ابتدا دوره نازل نفتگاز شماره  ${i + 1}</label>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" id="gas_nozzle_end_totalizer_${i}" name="gas_nozzle_end_totalizer_${i}" placeholder="مقدار توتالیزو انتها دوره نازل نفتگاز شماره " class="" required>
                <label for="gas_nozzle_end_totalizer_${i}">مقدار توتالیزو انتها دوره نازل نفتگاز شماره  ${i + 1}</label>
            </div>
        `;
    }
});


// Initialize Persian Date Picker
$(document).ready(function() {
    $('#start_date').persianDatepicker({
        format: 'YYYY-MM-DD'
    });
    $('#end_date').persianDatepicker({
        format: 'YYYY-MM-DD'
    });
});
</script>   
</body>
</html>